{
  "hash": "c0a2cd4d7119728d890018a01aed9ee9",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Homework 4\"\nsubtitle: \"Time Series Decomposition\"\neval: false\n---\n\n\n\n\n\n# Getting started\n\n### Start with the following steps:\n\n-   Go to our RStudio Server at <http://turing.cornellcollege.edu:8787/>\n\n-   Open the respective file from the shared STA364_inst_files folder mentioned above. It will be named something like *hw-0X_LAST_NAME.qmd*.\n\n-   Then you need to save your copy. Click *File -\\> Save as -\\> Navigate to the folder `STA364_Projects` (that we share) -\\> Change the \"LAST_NAME part of the file name to your last name -\\> Save*.\n\n-   Update the top of the document, called the `YAML,` with your name.\n\n# Homework Instructions\n\n::: callout-note\nBe sure to include the relevant R code and complete sentences answering each question (e.g., if I ask for the average, you can output the answer in R but **also** write a complete sentence with the answer). Be sure to save your files frequently!\n\nFrom this point forward, you need to start commenting on your graphs. What do you observe? Are there trends/cycles/seasonal effects? Outliers? Other interesting features?\n:::\n\n::: callout-important\nYou will now need to make your own R chunks for problems that require code. You should name each chunk appropriately, for example, `q1_a`. This process assures that when you render and get an error, the error tells you which chunk is causing the error. You **cannot** use duplicate chunk labels.\n\n\\`\\`\\`{r q1_a}\n\n\\`\\`\\`\n:::\n\nData for the homework is in the *STA364_inst_files \\> data* folder.\n\n# Exercises\n\n### Question 1 (fpp3_2)\n\nFor each of the following series, make a graph of the data. If transforming seems appropriate, do so and describe the effect. If not, explain why not.\n\na.  United States GDP from *global_economy*.\n\nb.  Slaughter of Victorian “Bulls, bullocks and steers” in *aus_livestock*.\n\nc.  Victorian Electricity Demand from *vic_elec*.\n\nd.  Gas production from *aus_production*.\n\n### Question 2 (fpp3_5)\n\nFor the following series, find an appropriate Box-Cox transformation to stabilize the variance: Pedestrian counts at Southern Cross Station from data *pedestrian*. Make sure to compare the series before and after the transformation and discuss whether or not it was effective.\n\n### Question 3\n\nChange the seed and run the following to get 10 random integers:\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nset.seed(CHANGE_TO_RANDOM_WHOLE_POSITIVE_NUMBER)\nrunif(10,1,10)\n```\n:::\n\n\n\nYou can do this exercise by hand and turn in a piece of paper. Apply MA(5) smoothing (moving average with $m=5$) to this small data set. Show your work.\n\n### Question 4 (fpp3_7)\n\nConsider the last five years of the Gas data from *aus_production*.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngas <- tail(aus_production, 5*4) |> select(Gas)\n```\n:::\n\n\n\na.  Plot the time series. Can you identify seasonal fluctuations and/or a trend cycle?\n\nb.  Use STL decomposition to decompose the series and show associated plots. No comments are required.\n\nc.  Do the results in (b) support the graphical interpretation from part (a)?\n\nd.  Compute and plot the seasonally adjusted data. What does this show?\n\ne.  Use the following code to change one observation to be an outlier (e.g., add 300 to one observation). You will need to save the result to a new object.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngas |>\n  mutate(Gas = if_else(Quarter == yearquarter(\"2007Q4\"), Gas + 300, Gas))\n```\n:::\n\n\n\nRecompute the seasonally adjusted data. What is the effect of the outlier?\n\nf.  Does it make any difference if the outlier is near the end rather than in the middle of the time series? You will need to copy and change the snippet of code above.\n\n### Question 5 (fpp3_10)\n\nThis exercise uses the *canadian_gas* data (monthly Canadian gas production in billions of cubic metres, January 1960 – February 2005).\n\na.  Plot the data using `autoplot()`, `gg_subseries()` and `gg_season()` to look at the effect of the changing seasonality over time.\n\nb.  Do an STL decomposition of the data. You will need to choose a seasonal window to allow for the changing shape of the seasonal component. Recall when we used `STL(variable ~ seasonal(window=\"some window\")`.\n\nc.  How does the seasonal shape change over time? \\[Hint: Try plotting the seasonal component using `gg_season()`.\\]\n\nd.  Can you produce a plausible seasonally adjusted series?\n\ne.  The following code decomposes using **SEATS** and **X-11**. How do the 3 decomposition's compare?\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncanadian_gas |>\n  model(X_13ARIMA_SEATS(Volume ~ seats())) |>\n  components() |>\n  autoplot()\n  \ncanadian_gas |>\n  model(X_13ARIMA_SEATS(Volume ~ x11())) |>\n  components() |>\n  autoplot()\n```\n:::\n\n\n\n# Submission\n\nWhen you are finished with your homework, be sure to Render the final document. Once rendered, you can download your file by:\n\n-   Finding the .html file in your File pane of RStudio (on the bottom right of the screen)\n-   Click the check box next to the file\n-   Click the blue gear above and then click \"Export\" to download\n-   Submit your final HTML document to the respective assignment on [Moodle]({{< var course.moodle >}})\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}